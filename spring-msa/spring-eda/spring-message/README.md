### MSA 환경에서 이벤트 기반 아키텍처가 필요한 이유 (EAD: Event Driven Architecture)

- MSA 환경에서 애플리케이션 환경이 분리가 되어 있는데, 하나의 서비스에서 상태 변경이 일어났을때 다양한 서비스에도 영향을 끼쳐야하는 경우가 많다.
    - 예를 들어 주문 서비스에서 상품 정보를 캐싱하고 있는데, 상품 서비스에서 상품을 수정하게 되면 주문 서비스는 상품 캐시를 삭제하여 데이터의 일관성을 유지해야한다.
- 하나의 서비스내에서의 상태 변경이 여러 서비스에 걸쳐 영향을 끼쳐야 할때, 영향을 받아야하는 서비스에 엔드포인트를 요청하고 응답하는 형식으로 처리할 수도 있다.
    - 상품이 수정되면 상품 서비스는 주문 서비스에 요청을 하고 상품 캐시를 삭제한다.
- 위와 같은 방식이 처음에는 간단해보이지만, 서비스가 많이 분리가 되어가는 환경에서는 아래와 같은 문제가 발생할 수 있다.
    - 상태 변경을 하는 서비스가 어떤 서비스에 영향을 주어야하는지 전부 알고 있어야한다. 서비스간 직접 통신을 하기 때문에 해당 엔드포인트를 전부 알고 있어야한다.
    - 만약 영향을 주어야하는 서비스의 엔드포인트를 전부 알고 있더라도, 엔드포인트의 변경이 일어나는 시점에 관련된 서비스를 전부 수정하고 배포해야한다.
    - 서비스간 직접 통신을 통한 상태 변경은 담당하는 서비스 개발자 모두를 피곤하게 만들 수 있다.
- 서비스간 직접 통신을 통한 상태변경은 서비스간 강한 결합이 발생한다. 유지보수하기 쉬운 소프트웨어를 만들기위해서는 낮은 결합을 유지하는 것이 좋다.
- 이벤트 기반 아키텍처는 강한 결합이 발생하는 서비스의

> > https://brunch.co.kr/@data-villain/24
> https://docs.spring.io/spring-framework/docs/5.3.32/reference/html/web.html#websocket-stomp <br/.
> https://sooolog.dev/HTTP-%ED%86%B5%EC%8B%A0%EA%B3%BC-TCP-%ED%86%B5%EC%8B%A0-%EA%B7%B8%EB%A6%AC%EA%B3%A0-%EC%9B%B9-%EC%86%8C%EC%BC%93%EC%97%90-%EB%8C%80%ED%95%9C-%EA%B8%B0%EB%B3%B8-%EA%B0%9C%EB%85%90-%EC%A0%95%EB%A6%AC/